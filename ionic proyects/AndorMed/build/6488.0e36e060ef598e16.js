"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{6488:(L,m,g)=>{g.r(m),g.d(m,{LoginPageModule:()=>_});var d=g(6814),r=g(95),a=g(5548),s=g(4670),o=g(6689),c=g(1555);function p(n,l){1&n&&(o.TgZ(0,"p",17),o._uU(1," (Email is required) "),o.qZA())}function f(n,l){1&n&&(o.TgZ(0,"p",17),o._uU(1," (Invalid email format) "),o.qZA())}function h(n,l){if(1&n&&(o.TgZ(0,"div",15),o.YNc(1,p,2,0,"p",16),o.YNc(2,f,2,0,"p",16),o.qZA()),2&n){const e=o.oxw();let t,i;o.xp6(1),o.Q6J("ngIf",null==(t=e.loginForm.get("email"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",(null==(i=e.loginForm.get("email"))||null==i.errors?null:i.errors.pattern)&&!(null!=(i=e.loginForm.get("email"))&&null!=i.errors&&i.errors.required))}}function v(n,l){1&n&&(o.TgZ(0,"div",15)(1,"p",17),o._uU(2,"(Password is required)"),o.qZA()())}const P=[{path:"",component:(()=>{class n{constructor(e,t,i){this.formBuilder=e,this.router=t,this.authService=i}ngOnInit(){this.buildLoginForm()}buildLoginForm(){this.loginForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(8)]]})}login(){if(this.loginForm.valid){const{email:e,password:t}=this.loginForm.value;this.authService.login(e,t).subscribe(i=>{console.log(i.message),console.log(i.user),"Inicio de sesi\xf3n exitoso"===i.message?(this.authService.setToken(i.token),this.router.navigate(["/start"])):console.error("Credenciales inv\xe1lidas")},i=>{console.error(i)})}else this.loginForm.markAllAsTouched()}navigateToForgotPassword(){this.router.navigate(["/forgot-password"])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(r.qu),o.Y36(s.F0),o.Y36(c.e))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:5,consts:[["scrollY","false",1,"ion-padding",3,"fullscreen"],[1,"login-container"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"login-title"],[1,"form-field"],["position","floating"],["type","email","formControlName","email","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"],["class","field-validation",4,"ngIf"],["type","password","formControlName","password"],[1,"forgot-password-container"],["routerLink","/forgot-password",1,"ion-color","ion-text-sm"],["expand","full","type","submit",3,"disabled"],[1,"ion-text-center"],[1,"ion-text-small","ion-color"],["routerLink","/registration",1,"ion-text-bold"],[1,"field-validation"],["class","error-message","ion-color","danger",4,"ngIf"],["ion-color","danger",1,"error-message"]],template:function(e,t){if(1&e&&(o.TgZ(0,"ion-content",0)(1,"div",1)(2,"form",2),o.NdJ("ngSubmit",function(){return t.login()}),o.TgZ(3,"h2",3),o._uU(4,"Log in to AndorMed"),o.qZA(),o.TgZ(5,"div",4)(6,"ion-item")(7,"ion-label",5),o._uU(8,"Email"),o.qZA(),o._UZ(9,"ion-input",6),o.qZA(),o.YNc(10,h,3,2,"div",7),o.qZA(),o.TgZ(11,"div",4)(12,"ion-item")(13,"ion-label",5),o._uU(14,"Password"),o.qZA(),o._UZ(15,"ion-input",8),o.qZA(),o.YNc(16,v,3,0,"div",7),o.qZA(),o.TgZ(17,"div",9)(18,"a",10),o._uU(19,"Forgot password?"),o.qZA()(),o.TgZ(20,"ion-button",11),o._uU(21," Login "),o.qZA(),o.TgZ(22,"div",12)(23,"p",13),o._uU(24,"Don't have an account? "),o.TgZ(25,"a",14),o._uU(26,"Sign Up"),o.qZA()()()()()()),2&e){let i,u;o.Q6J("fullscreen",!0),o.xp6(2),o.Q6J("formGroup",t.loginForm),o.xp6(8),o.Q6J("ngIf",(null==(i=t.loginForm.get("email"))?null:i.invalid)&&(null==(i=t.loginForm.get("email"))?null:i.touched)),o.xp6(6),o.Q6J("ngIf",(null==(u=t.loginForm.get("password"))?null:u.invalid)&&(null==(u=t.loginForm.get("password"))?null:u.touched)),o.xp6(4),o.Q6J("disabled",t.loginForm.invalid||t.loginForm.pending)}},dependencies:[d.O5,r._Y,r.JJ,r.JL,r.c5,r.sg,r.u,a.YG,a.W2,a.pK,a.Ie,a.Q$,a.j9,a.Fo,s.rH],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.login-form[_ngcontent-%COMP%]{max-width:400px;width:100%;margin:0 auto}.login-title[_ngcontent-%COMP%]{text-align:left;margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]{text-align:right;margin-bottom:1rem}.login-form[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:80%;margin:0 auto}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-message[_ngcontent-%COMP%]{margin-top:.5rem;color:red}.message-space[_ngcontent-%COMP%]{height:1.5rem}ion-input[_ngcontent-%COMP%]{display:block;width:100%;height:2.5rem}ion-content[_ngcontent-%COMP%]{--ion-padding-top: 0;--ion-padding-bottom: 0;--ion-padding-start: 0;--ion-padding-end: 0}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[s.Bz.forChild(P),s.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[d.ez,r.u5,r.UX,a.Pc,Z]}),n})()}}]);