<ion-header>
  <ion-toolbar>
    <ion-title>
      Escáner QR
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <a routerLink="./generar-qr">
      <ion-button>
        <ion-icon slot="icon-only" name="qr-code"></ion-icon>
      </ion-button>
    </a>
    </ion-buttons>
    
    <ion-title>
      Generar QR
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-card class="scanner-card">
    <div class="wrapper__scanner">
      <ion-button class="float-button" (click)="changeCamera()">
        Cambiar Cámara
      </ion-button>
      <div class="video--container">
        <video #videoElement autoplay playsInline></video>
      </div>
      <div class="message--container">
        <p class="mt-2" *ngIf="qrScanned && qrData">
          Información del QR:<br>
          <ng-container *ngIf="isURL(qrData)">
            <a [href]="qrData" target="_blank">{{ qrData }}</a>
          </ng-container>
          <ng-container *ngIf="!isURL(qrData)">
            <span>{{ qrData }}</span>
          </ng-container>
        </p>
        <p class="mt-2" *ngIf="!qrScanned">
          Apunta la cámara hacia un código QR
        </p>
      </div>
      <div class="video--container" style="display: none;">
        <canvas id="canvas" #canvas></canvas>
      </div>
    </div>
  </ion-card>
</ion-content>

