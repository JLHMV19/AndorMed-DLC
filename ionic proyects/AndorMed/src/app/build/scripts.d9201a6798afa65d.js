const canPromise=require("./can-promise"),QRCode=require("./core/qrcode"),CanvasRenderer=require("./renderer/canvas"),SvgRenderer=require("./renderer/svg-tag.js");function renderCanvas(t,e,r,n,o){const f=[].slice.call(arguments,1),i=f.length,l="function"==typeof f[i-1];if(!l&&!canPromise())throw new Error("Callback required as last argument");if(!l){if(i<1)throw new Error("Too few arguments provided");return 1===i?(r=e,e=n=void 0):2===i&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(d,a){try{const u=QRCode.create(r,n);d(t(u,e,n))}catch(u){a(u)}})}if(i<2)throw new Error("Too few arguments provided");2===i?(o=r,r=e,e=n=void 0):3===i&&(e.getContext&&typeof o>"u"?(o=n,n=void 0):(o=n,n=r,r=e,e=void 0));try{const d=QRCode.create(r,n);o(null,t(d,e,n))}catch(d){o(d)}}exports.create=QRCode.create,exports.toCanvas=renderCanvas.bind(null,CanvasRenderer.render),exports.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL),exports.toString=renderCanvas.bind(null,function(t,e,r){return SvgRenderer.render(t,r)});